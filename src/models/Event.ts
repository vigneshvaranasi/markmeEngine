import {model, Schema,Types} from "mongoose";
export const EventSchema = new Schema({
    name:{
        type:String,
        required:true
    },
    spaceId:{
        type:Types.ObjectId,
        ref:"Space",
        required:true
    },
    managers:[{
        type:Types.ObjectId,
        ref:"User"
    }],
    timings:{
        type:{
            start:Date,
            end:Date
        },
        required:true,
    },
    status:{
        type:String,
        enum:["Upcoming", "Live", "Hold","Ongoing", "Archived"],
        required:true
    },
    attendees:[{
        type:Types.ObjectId,
        ref:"User"
    }],
    description:{
        type:String
    },
    venue:{
        type:{
            name:String,
            address:String,
        },
    },
    visibility:{
        type:String,
        enum:["Public", "Private"],
        required:true,
        default:"Public"
    },
    poster:{
        type:String,
    },
    capacity:{
        type:Number,
        default:Number.MAX_SAFE_INTEGER
    },
    contactDetails:[{
        type:{
            name:String,
            phone:String,
            email:String
        }
    }],
    hosts:[{
        type:Types.ObjectId,
        ref:"User"
    }],
    checkedIn:[{
        type:Types.ObjectId,
        ref:"User"
    }],
    feedbackURL:{
        type:String,
    }
})

export default model("Event", EventSchema);